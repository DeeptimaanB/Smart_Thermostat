#include <Arduino.h>
#include <IRremoteESP8266.h>
#include <IRsend.h>
#include <ESP8266WiFi.h>
#include <ESP8266WebServer.h>

const char MAIN_page[] PROGMEM = R"=====(
<!DOCTYPE html>
<html>

<body>

    <h2>Smart Thermostat<h2>
            <h3> Change Temperature Settings </h3>

            <form action="/action_page">
                People:<br>
                <select name="p">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">More</option>
                </select>
                <br><br>
                Temperature:<br>
                <select name="t">
                    <option value="0">Off</option>
                    <option value="1">16</option>
                    <option value="2">17</option>
                    <option value="3">18</option>
                    <option value="4">19</option>
                    <option value="5">20</option>
                    <option value="6">21</option>
                    <option value="7">22</option>
                    <option value="8">23</option>
                    <option value="9">24</option>
                    <option value="10">25</option>
                    <option value="11">26</option>
                    <option value="12">27</option>
                    <option value="13">28</option>
                    <option value="17">29</option>
                    <option value="15">30</option>
                    <option value="16">31</option>
                    <option value="17">32</option>
                </select>
                <br><br>
                <input type="submit" value="Submit">
            </form>

</body>

</html>
)=====";

/* Put your SSID & Password */
const char* ssid = "Banerjee's WIFI";  // Enter SSID here
const char* password = "12345678";  //Enter Password here


ESP8266WebServer server(80);

const uint16_t kIrLed = 4;  // ESP8266 GPIO pin to use. Recommended: 4 (D2).
String value="0";
int i=0;
IRsend irsend(kIrLed);  // Set the GPIO to be used to sending the message.


// Example of data captured by IRrecvDumpV2.ino
uint16_t t[18][211] = {{3418, 3340,  448, 1280,  416, 384,  462, 1280,  390, 1278,  418, 384,  462, 384,  462, 1280,  416, 332,  490, 1278,  418, 386,  462, 1280,  416, 386,  436, 1280,  416, 1278,  418, 1278,  418, 386,  436, 384,  462, 1254,  442, 386,  462, 388,  460, 1254,  416, 1280,  416, 386,  462, 1280,  414, 1254,  416, 384,  462, 386,  462, 1280,  418, 384,  462, 332,  488, 386,  460, 1280,  416, 1278,  418, 1254,  416, 1280,  416, 1278,  416, 384,  462, 386,  436, 386,  460, 388,  460, 388,  460, 386,  462, 1282,  414, 332,  488, 1282,  414, 384,  462, 388,  460, 386,  460, 1254,  414, 1280,  416, 386,  460, 386,  462, 1280,  388, 386,  462, 388,  460, 386,  462, 386,  462, 388,  460, 388,  460, 334,  486, 386,  460, 388,  460, 384,  462, 388,  460, 388,  436, 420,  402, 420,  450, 388,  458, 390,  458, 388,  458, 390,  434, 422,  448, 338,  458, 422,  450, 386,  436, 422,  426, 422,  424, 422,  424, 422,  426, 384,  436, 422,  426, 422,  426, 422,  448, 392,  434, 422,  448, 390,  408, 422,  426, 422,  424, 424,  424, 1306,  390, 424,  422, 1282,  388, 424,  424, 424,  424, 422,  424, 422,  424, 1282,  388, 1306,  388, 424,  424, 424,  424, 1280,  390, 422,  424, 424,  422, 424,  424},
{3422, 3340,  436, 1262,  434, 410,  418, 1302,  390, 1256,  462, 372,  448, 406,  420, 1306,  406, 380,  442, 1264,  436, 408,  434, 1290,  384, 436,  436, 1260,  432, 1240,  460, 1260,  388, 436,  434, 372,  426, 1286,  426, 412,  444, 410,  410, 1288,  376, 1320,  406, 410,  438, 1270,  428, 1260,  410, 406,  404, 454,  402, 1322,  380, 438,  394, 430,  398, 446,  430, 1288,  388, 1312,  408, 1256,  380, 1294,  426, 1276,  396, 446,  402, 442,  384, 436,  406, 444,  430, 440,  408, 1290,  378, 1272,  400, 440,  432, 1264,  406, 442,  432, 1288,  348, 468,  406, 1270,  426, 1296,  370, 478,  398, 448,  348, 1314,  386, 472,  376, 470,  402, 438,  410, 440,  378, 416,  402, 478,  374, 472,  402, 418,  406, 472,  368, 450,  396, 454,  376, 440,  404, 470,  376, 466,  354, 498,  378, 446,  396, 450,  422, 422,  370, 476,  380, 466,  376, 470,  382, 468,  374, 476,  402, 440,  380, 446,  376, 472,  398, 446,  374, 452,  406, 466,  404, 442,  378, 446,  348, 492,  376, 474,  398, 450,  376, 470,  350, 496,  372, 476,  350, 1322,  374, 470,  374, 474,  370, 474,  376, 480,  368, 476,  344, 1328,  366, 1330,  368, 480,  342, 504,  370, 1300,  366, 478,  368, 480,  370, 480,  362},
{3376, 3380,  404, 1318,  458, 316,  502, 1268,  358, 1308,  442, 402,  412, 408,  440, 1292,  406, 370,  456, 1284,  422, 394,  444, 1288,  358, 484,  384, 1268,  446, 1248,  426, 1294,  406, 446,  382, 402,  476, 1226,  430, 408,  442, 408,  410, 1290,  354, 1318,  408, 468,  430, 1260,  410, 1262,  418, 400,  412, 442,  460, 1254,  412, 412,  418, 400,  442, 436,  374, 1294,  438, 1286,  378, 1290,  406, 1262,  436, 1264,  458, 412,  386, 468,  374, 438,  388, 442,  436, 432,  352, 1350,  410, 1232,  426, 414,  408, 1292,  434, 408,  408, 1322,  324, 472,  406, 1290,  376, 478,  424, 1268,  404, 468,  376, 1294,  436, 406,  386, 468,  380, 444,  428, 440,  406, 414,  408, 414,  428, 446,  402, 440,  390, 464,  402, 446,  376, 444,  376, 472,  398, 446,  376, 448,  400, 446,  434, 414,  404, 468,  380, 440,  406, 444,  386, 466,  376, 466,  382, 474,  392, 452,  378, 466,  380, 440,  386, 466,  398, 446,  380, 472,  348, 468,  406, 472,  372, 476,  368, 448,  406, 442,  402, 446,  370, 476,  396, 450,  372, 478,  370, 1298,  398, 450,  396, 452,  370, 476,  400, 444,  374, 476,  342, 1324,  372, 474,  372, 1328,  366, 478,  366, 1304,  368, 476,  354, 520,  318, 506,  340},
{3410, 3352,  434, 1260,  434, 408,  438, 1262,  416, 1258,  436, 400,  438, 412,  438, 1262,  434, 368,  456, 1260,  432, 418,  436, 1260,  434, 404,  418, 1256,  432, 1264,  432, 1276,  426, 406,  420, 400,  442, 1258,  434, 410,  438, 410,  438, 1236,  434, 1266,  434, 406,  442, 1258,  434, 1236,  432, 410,  440, 408,  438, 1266,  434, 406,  440, 362,  430, 438,  434, 1264,  432, 1264,  430, 1244,  430, 1284,  410, 1282,  410, 412,  434, 412,  408, 414,  434, 414,  436, 424,  428, 1286,  408, 1256,  408, 414,  408, 1314,  382, 440,  408, 1316,  380, 414,  434, 1288,  382, 1312,  382, 1314,  356, 444,  404, 1318,  382, 442,  400, 446,  404, 442,  404, 414,  408, 442,  406, 444,  404, 442,  406, 450,  400, 442,  404, 444,  406, 408,  408, 444,  404, 444,  404, 444,  404, 444,  404, 444,  404, 426,  424, 414,  408, 442,  404, 460,  384, 446,  402, 444,  402, 446,  402, 416,  406, 446,  400, 446,  434, 416,  404, 444,  404, 434,  408, 468,  352, 468,  378, 470,  378, 470,  378, 470,  376, 472,  374, 478,  374, 444,  376, 1316,  376, 472,  374, 472,  374, 474,  374, 474,  348, 472,  374, 1326,  374, 1320,  372, 1324,  346, 476,  370, 1326,  370, 490,  362, 476,  370, 478,  368},
{3354, 3432,  386, 1286,  408, 438,  442, 1278,  336, 1336,  410, 410,  410, 440,  500, 1224,  420, 390,  418, 1290,  446, 344,  472, 1282,  402, 414,  394, 1288,  402, 1288,  458, 1238,  432, 440,  384, 442,  426, 1268,  428, 410,  418, 400,  466, 1236,  414, 1284,  400, 416,  470, 1232,  400, 1294,  430, 420,  374, 468,  386, 1316,  376, 440,  438, 406,  442, 410,  390, 1310,  378, 1312,  410, 1264,  412, 1282,  384, 1288,  404, 442,  436, 438,  368, 426,  432, 416,  410, 462,  356, 1344,  372, 1274,  426, 442,  382, 1316,  406, 440,  376, 1324,  346, 446,  426, 1294,  412, 436,  350, 476,  396, 1318,  350, 1320,  402, 450,  396, 446,  382, 464,  404, 450,  368, 450,  406, 446,  372, 446,  426, 442,  408, 442,  374, 476,  404, 444,  382, 436,  402, 454,  344, 496,  384, 470,  376, 468,  408, 436,  406, 416,  376, 476,  398, 450,  376, 472,  402, 448,  376, 464,  378, 452,  422, 418,  406, 416,  402, 466,  376, 480,  372, 474,  404, 446,  370, 474,  372, 448,  384, 460,  378, 476,  374, 474,  370, 478,  376, 468,  352, 1318,  398, 450,  348, 500,  374, 474,  402, 446,  378, 468,  326, 1352,  356, 482,  402, 448,  374, 1322,  372, 1300,  368, 506,  316, 502,  372, 484,  362},
{3414, 3350,  444, 1248,  438, 404,  442, 1260,  416, 1254,  438, 404,  442, 406,  448, 1256,  444, 340,  470, 1262,  438, 404,  442, 1260,  436, 406,  420, 1266,  432, 1254,  440, 1252,  434, 408,  420, 400,  442, 1260,  434, 408,  440, 408,  444, 1232,  438, 1256,  436, 408,  438, 1262,  434, 1236,  434, 408,  436, 416,  438, 1260,  432, 412,  442, 364,  450, 420,  458, 1232,  436, 1262,  440, 1254,  386, 1306,  422, 1246,  466, 360,  514, 358,  382, 442,  432, 406,  472, 398,  422, 1258,  432, 1258,  410, 410,  438, 1286,  410, 410,  436, 1286,  356, 442,  432, 1300,  402, 1286,  410, 404,  438, 1262,  406, 1288,  408, 414,  432, 418,  430, 418,  430, 420,  406, 410,  436, 414,  432, 402,  416, 468,  406, 440,  406, 440,  380, 440,  406, 442,  406, 440,  406, 442,  406, 450,  402, 414,  430, 376,  426, 460,  406, 440,  408, 440,  406, 440,  408, 440,  408, 440,  406, 412,  410, 452,  398, 412,  432, 418,  406, 454,  392, 466,  406, 440,  354, 468,  404, 442,  406, 442,  386, 462,  406, 442,  410, 440,  406, 412,  410, 1286,  378, 470,  378, 470,  378, 470,  378, 470,  352, 470,  376, 1322,  376, 1320,  372, 472,  374, 1294,  374, 1322,  374, 474,  372, 476,  370, 480,  372},
{3432, 3330,  420, 1272,  432, 402,  444, 1260,  414, 1254,  436, 410,  438, 408,  438, 1260,  436, 366,  458, 1258,  434, 408,  438, 1266,  436, 404,  422, 1252,  432, 1262,  434, 1262,  434, 410,  414, 404,  440, 1270,  428, 408,  440, 408,  444, 1228,  434, 1262,  434, 408,  438, 1264,  432, 1252,  424, 404,  440, 408,  442, 1258,  464, 358,  452, 382,  450, 406,  434, 1266,  414, 1300,  418, 1254,  404, 1276,  424, 1266,  456, 374,  414, 474,  358, 436,  434, 436,  386, 442,  400, 1320,  408, 1260,  418, 428,  408, 1288,  406, 442,  406, 1290,  380, 442,  406, 1290,  406, 442,  404, 1292,  406, 1264,  408, 1292,  404, 436,  412, 444,  408, 438,  380, 442,  402, 446,  404, 442,  404, 416,  430, 438,  384, 444,  424, 454,  368, 446,  406, 434,  414, 432,  416, 434,  382, 472,  408, 436,  382, 438,  398, 456,  366, 480,  368, 478,  368, 480,  368, 478,  394, 452,  370, 450,  378, 468,  376, 472,  374, 476,  368, 480,  368, 480,  366, 482,  340, 480,  366, 484,  362, 474,  374, 476,  370, 478,  370, 476,  372, 450,  370, 1326,  370, 478,  370, 476,  370, 480,  366, 480,  340, 482,  366, 1352,  340, 508,  340, 1364,  336, 1328,  344, 1350,  340, 510,  336, 508,  340, 512,  338},
{3376, 3384,  462, 1250,  384, 444,  414, 1300,  348, 1320,  462, 316,  482, 414,  468, 1226,  466, 350,  440, 1260,  412, 430,  438, 1286,  414, 402,  412, 1264,  404, 1314,  404, 1270,  424, 418,  380, 446,  404, 1314,  414, 404,  390, 488,  382, 1262,  380, 1338,  420, 434,  400, 1294,  378, 1288,  386, 464,  380, 440,  436, 1264,  432, 436,  416, 358,  434, 440,  406, 1290,  402, 1320,  404, 1238,  428, 1268,  430, 1290,  404, 440,  384, 440,  376, 470,  382, 444,  404, 440,  414, 1310,  408, 1262,  428, 418,  406, 1292,  378, 466,  384, 1312,  352, 468,  378, 1320,  404, 1292,  406, 1288,  378, 1292,  402, 1268,  428, 416,  434, 412,  406, 444,  374, 474,  374, 474,  374, 474,  380, 440,  426, 446,  406, 440,  376, 446,  376, 470,  378, 474,  400, 438,  380, 474,  376, 444,  426, 380,  440, 446,  378, 474,  396, 422,  404, 468,  382, 470,  354, 492,  404, 414,  380, 468,  404, 448,  372, 470,  378, 470,  376, 442,  428, 446,  352, 472,  388, 458,  400, 418,  404, 468,  402, 450,  376, 474,  372, 446,  376, 468,  378, 1320,  402, 446,  368, 480,  378, 470,  344, 476,  376, 472,  374, 1324,  374, 1320,  372, 1300,  368, 1328,  370, 1326,  342, 500,  372, 452,  366, 482,  346},
{3388, 3396,  410, 1258,  436, 412,  414, 1308,  400, 1252,  464, 340,  452, 428,  416, 1288,  462, 350,  454, 1246,  420, 430,  446, 1250,  436, 438,  374, 1268,  380, 1312,  410, 1312,  414, 404,  456, 340,  432, 1294,  436, 436,  472, 342,  410, 1296,  382, 1308,  446, 400,  384, 1284,  434, 1244,  402, 470,  390, 430,  430, 1292,  404, 416,  380, 472,  380, 464,  438, 1234,  426, 1294,  412, 1258,  412, 1282,  418, 1278,  382, 466,  386, 436,  442, 354,  466, 432,  410, 436,  390, 1308,  404, 1240,  462, 356,  444, 1282,  428, 444,  382, 1318,  382, 402,  414, 1314,  382, 466,  402, 446,  404, 414,  464, 406,  394, 1284,  398, 424,  398, 470,  380, 474,  400, 446,  398, 380,  422, 462,  414, 442,  402, 442,  374, 476,  400, 420,  426, 444,  376, 422,  400, 448,  430, 442,  408, 436,  386, 470,  378, 462,  412, 404,  390, 444,  376, 498,  406, 438,  400, 442,  384, 464,  378, 476,  396, 424,  424, 416,  410, 444,  382, 442,  398, 470,  406, 442,  404, 446,  350, 466,  406, 444,  380, 464,  404, 448,  400, 446,  354, 1316,  350, 496,  380, 474,  372, 476,  398, 446,  372, 474,  376, 476,  346, 1322,  348, 502,  346, 502,  372, 1318,  348, 508,  334, 484,  368, 484,  358},
{3378, 3406,  382, 1288,  436, 408,  444, 1282,  370, 1276,  432, 412,  418, 432,  464, 1228,  432, 416,  410, 1270,  424, 414,  412, 1286,  438, 406,  412, 1262,  430, 1274,  404, 1308,  406, 416,  436, 368,  452, 1264,  424, 420,  406, 442,  438, 1260,  434, 1238,  430, 412,  404, 1290,  408, 1288,  384, 448,  398, 446,  400, 1318,  384, 440,  382, 440,  432, 408,  436, 1288,  412, 1260,  432, 1262,  404, 1292,  376, 1322,  400, 418,  432, 416,  408, 410,  434, 416,  408, 472,  398, 1296,  404, 1262,  380, 448,  426, 1266,  424, 420,  412, 1312,  350, 440,  432, 1294,  410, 1282,  384, 438,  404, 472,  350, 446,  398, 1318,  358, 492,  402, 426,  396, 450,  430, 408,  416, 438,  398, 424,  376, 496,  376, 466,  386, 444,  404, 466,  378, 418,  402, 444,  404, 450,  394, 448,  428, 446,  382, 464,  374, 448,  378, 466,  406, 424,  402, 464,  406, 448,  372, 450,  402, 438,  430, 386,  408, 480,  370, 450,  392, 452,  398, 476,  368, 454,  396, 474,  344, 476,  372, 450,  400, 470,  404, 442,  400, 450,  398, 446,  376, 1294,  350, 500,  374, 474,  370, 476,  376, 472,  372, 476,  348, 470,  372, 478,  376, 1312,  378, 470,  354, 1350,  342, 474,  372, 478,  344, 506,  364},
{3350, 3408,  460, 1236,  444, 396,  478, 1224,  404, 1262,  440, 408,  468, 402,  392, 1290,  378, 460,  410, 1288,  392, 454,  394, 1278,  406, 442,  400, 1294,  408, 1288,  436, 1232,  376, 474,  432, 364,  420, 1322,  376, 472,  380, 470,  400, 1244,  428, 1268,  406, 438,  412, 1282,  458, 1214,  456, 414,  412, 412,  398, 1298,  404, 446,  428, 372,  416, 476,  400, 1296,  436, 1256,  406, 1244,  406, 1314,  378, 1322,  398, 442,  388, 456,  414, 404,  406, 422,  412, 468,  366, 1300,  402, 1294,  386, 462,  382, 1312,  404, 452,  368, 1320,  382, 438,  410, 1288,  374, 472,  372, 1326,  374, 468,  382, 438,  438, 1262,  378, 470,  402, 446,  374, 472,  438, 354,  404, 472,  374, 452,  370, 472,  402, 470,  404, 422,  396, 472,  354, 470,  424, 382,  418, 470,  398, 446,  382, 466,  402, 444,  408, 412,  410, 442,  376, 466,  358, 494,  426, 380,  410, 452,  398, 474,  350, 466,  410, 442,  402, 448,  406, 438,  376, 450,  402, 464,  380, 472,  348, 474,  374, 476,  364, 476,  374, 476,  374, 470,  400, 450,  374, 1294,  350, 498,  404, 442,  380, 472,  344, 500,  370, 478,  346, 472,  374, 1330,  368, 1326,  344, 496,  378, 1298,  370, 476,  342, 528,  344, 482,  366},
{3412, 3348,  432, 1264,  432, 410,  438, 1272,  404, 1258,  432, 400,  446, 410,  436, 1264,  432, 372,  450, 1264,  436, 412,  436, 1264,  430, 410,  410, 1264,  432, 1264,  434, 1276,  422, 410,  410, 412,  438, 1260,  430, 412,  436, 412,  434, 1238,  430, 1270,  432, 410,  438, 1284,  406, 1262,  406, 440,  406, 442,  406, 1296,  404, 414,  434, 372,  452, 408,  434, 1290,  406, 1290,  404, 1276,  372, 1316,  406, 1286,  404, 444,  382, 466,  378, 442,  404, 444,  404, 442,  402, 1298,  404, 1262,  404, 442,  382, 1316,  404, 442,  406, 1306,  366, 442,  406, 1286,  382, 1316,  382, 1314,  352, 470,  380, 466,  382, 1316,  406, 434,  384, 470,  402, 416,  382, 468,  380, 468,  380, 468,  402, 444,  380, 476,  400, 442,  352, 470,  406, 436,  380, 470,  378, 470,  378, 470,  378, 470,  378, 444,  378, 478,  374, 468,  404, 444,  378, 456,  386, 470,  378, 470,  378, 442,  378, 472,  376, 470,  378, 472,  374, 478,  376, 470,  378, 470,  348, 470,  376, 472,  376, 470,  378, 470,  376, 470,  378, 470,  376, 458,  366, 1320,  376, 464,  378, 472,  374, 474,  374, 474,  348, 474,  372, 476,  372, 474,  374, 478,  372, 1316,  376, 1298,  372, 476,  370, 476,  372, 476,  370},
{3416, 3344,  438, 1260,  436, 406,  440, 1274,  404, 1254,  438, 398,  444, 408,  440, 1260,  436, 366,  458, 1256,  442, 404,  442, 1252,  436, 412,  418, 1256,  434, 1262,  434, 1268,  430, 408,  416, 402,  440, 1258,  434, 410,  438, 408,  438, 1236,  434, 1264,  436, 406,  440, 1258,  434, 1234,  434, 410,  438, 408,  440, 1264,  434, 406,  442, 360,  454, 410,  438, 1262,  434, 1262,  432, 1248,  428, 1260,  436, 1278,  410, 414,  434, 414,  408, 414,  432, 414,  434, 444,  408, 1288,  406, 1258,  408, 414,  432, 1290,  406, 440,  408, 1292,  380, 412,  434, 1286,  406, 440,  408, 440,  406, 1290,  380, 440,  408, 1292,  406, 416,  432, 438,  406, 442,  406, 412,  408, 442,  408, 440,  406, 440,  408, 440,  414, 436,  406, 442,  382, 430,  390, 464,  408, 440,  408, 440,  408, 440,  406, 440,  406, 412,  408, 448,  406, 440,  406, 440,  380, 464,  380, 468,  378, 470,  378, 444,  378, 470,  378, 468,  378, 482,  368, 470,  376, 470,  378, 466,  350, 472,  376, 472,  374, 476,  374, 472,  374, 472,  374, 474,  376, 1296,  374, 466,  380, 474,  372, 478,  370, 476,  372, 476,  344, 476,  370, 1330,  368, 480,  368, 1350,  342, 1328,  340, 508,  340, 508,  338, 510,  328},
{3412, 3350,  436, 1260,  436, 408,  438, 1262,  384, 1288,  438, 398,  470, 370,  448, 1268,  404, 416,  410, 1292,  404, 440,  442, 1252,  442, 424,  358, 1298,  400, 1282,  442, 1260,  432, 412,  414, 408,  436, 1264,  430, 414,  434, 412,  436, 1238,  432, 1264,  430, 428,  426, 1264,  434, 1240,  428, 412,  442, 394,  442, 1266,  426, 424,  428, 376,  416, 474,  374, 1298,  458, 1260,  414, 1228,  430, 1268,  428, 1268,  428, 416,  432, 416,  380, 444,  404, 444,  426, 420,  406, 1292,  426, 1246,  404, 442,  430, 1288,  380, 444,  404, 1316,  360, 460,  380, 1316,  380, 1322,  378, 442,  404, 1286,  380, 468,  380, 1316,  404, 444,  404, 444,  380, 440,  382, 468,  380, 476,  374, 468,  380, 468,  380, 438,  436, 412,  406, 446,  372, 474,  406, 440,  376, 472,  410, 438,  408, 410,  412, 414,  406, 462,  408, 410,  466, 408,  388, 466,  380, 470,  368, 484,  366, 438,  386, 470,  380, 468,  378, 470,  378, 470,  378, 468,  378, 468,  350, 470,  378, 470,  378, 470,  378, 470,  378, 468,  378, 470,  378, 446,  376, 1310,  388, 472,  402, 438,  382, 462,  390, 458,  358, 464,  408, 438,  384, 464,  380, 1322,  378, 1318,  346, 1322,  372, 476,  372, 476,  372, 476,  372},
{3418, 3342,  438, 1258,  438, 404,  446, 1260,  416, 1256,  462, 348,  444, 432,  444, 1252,  450, 346,  444, 1286,  436, 404,  444, 1260,  430, 396,  428, 1256,  436, 1258,  436, 1260,  436, 406,  420, 398,  442, 1272,  430, 400,  446, 400,  448, 1226,  434, 1262,  432, 410,  438, 1262,  434, 1238,  436, 404,  444, 406,  434, 1264,  434, 408,  438, 366,  458, 406,  440, 1262,  434, 1264,  434, 1232,  434, 1262,  434, 1262,  434, 410,  438, 408,  416, 406,  440, 406,  442, 408,  408, 1290,  408, 1268,  426, 408,  442, 1280,  418, 402,  444, 1280,  392, 400,  446, 1276,  418, 408,  432, 1290,  408, 1238,  430, 412,  436, 1288,  408, 412,  434, 416,  432, 374,  444, 422,  430, 412,  436, 410,  434, 412,  434, 416,  408, 442,  406, 414,  432, 416,  432, 416,  430, 416,  430, 424,  428, 412,  434, 372,  446, 404,  416, 468,  406, 416,  408, 442,  416, 456,  406, 416,  406, 416,  406, 466,  414, 438,  404, 442,  406, 432,  388, 468,  380, 468,  352, 470,  376, 470,  378, 470,  376, 470,  378, 470,  380, 472,  376, 444,  376, 1316,  376, 472,  374, 474,  374, 474,  374, 474,  348, 474,  372, 486,  364, 1324,  372, 1322,  372, 1298,  370, 1324,  370, 478,  368, 494,  358, 478,  368},
{3408, 3350,  438, 1262,  440, 400,  446, 1254,  412, 1256,  438, 406,  440, 406,  440, 1260,  436, 364,  462, 1258,  438, 392,  446, 1262,  434, 408,  418, 1256,  432, 1262,  434, 1266,  436, 406,  418, 398,  442, 1262,  432, 412,  436, 412,  436, 1238,  432, 1266,  432, 410,  438, 1260,  432, 1238,  434, 410,  438, 410,  436, 1262,  464, 366,  454, 366,  454, 410,  408, 1290,  432, 1262,  432, 1238,  432, 1268,  430, 1264,  430, 412,  434, 412,  386, 462,  408, 412,  434, 412,  436, 1288,  408, 1242,  430, 412,  436, 1288,  358, 484,  380, 1296,  380, 462,  432, 1240,  464, 1230,  410, 1316,  410, 1258,  410, 412,  400, 1322,  412, 430,  388, 410,  464, 404,  418, 436,  408, 444,  402, 442,  386, 456,  436, 414,  358, 468,  380, 466,  380, 466,  404, 444,  404, 442,  380, 468,  382, 440,  404, 442,  404, 442,  382, 468,  394, 452,  382, 476,  400, 440,  382, 440,  410, 434,  406, 444,  380, 466,  380, 468,  404, 442,  380, 468,  352, 470,  402, 444,  380, 482,  396, 440,  406, 440,  408, 436,  380, 442,  378, 470,  378, 1320,  376, 472,  376, 472,  376, 470,  348, 480,  374, 470,  376, 470,  372, 472,  376, 472,  374, 474,  374, 474,  348, 1322,  374, 474,  372, 488,  364},
{3398, 3360,  434, 1262,  432, 410,  438, 1266,  406, 1248,  418, 442,  432, 412,  438, 1262,  432, 370,  450, 1264,  430, 426,  428, 1262,  430, 416,  382, 1290,  404, 1318,  382, 1288,  404, 442,  406, 410,  440, 1260,  402, 442,  438, 402,  438, 1250,  396, 1298,  418, 424,  428, 1260,  442, 1234,  432, 412,  434, 414,  434, 1264,  430, 414,  434, 372,  448, 414,  434, 1264,  430, 1272,  398, 1268,  430, 1260,  428, 1268,  428, 418,  432, 416,  404, 416,  416, 434,  428, 418,  428, 1274,  428, 1262,  404, 418,  406, 1316,  380, 468,  380, 1316,  354, 442,  430, 1268,  426, 416,  402, 482,  364, 460,  422, 1242,  408, 1288,  408, 440,  408, 464,  406, 442,  378, 442,  406, 436,  382, 440,  436, 438,  382, 436,  442, 402,  410, 466,  360, 462,  404, 444,  380, 468,  380, 468,  402, 444,  380, 468,  378, 442,  380, 466,  404, 444,  404, 442,  380, 468,  380, 468,  380, 452,  398, 440,  386, 462,  380, 464,  404, 446,  378, 468,  380, 468,  380, 468,  352, 470,  398, 448,  380, 468,  380, 480,  370, 468,  382, 466,  404, 1262,  376, 470,  378, 470,  376, 472,  376, 472,  376, 472,  348, 1330,  370, 1320,  378, 464,  376, 474,  372, 1296,  372, 474,  374, 474,  372, 476,  372},
{3410, 3380,  378, 1290,  460, 410,  412, 1262,  440, 1252,  438, 416,  408, 438,  416, 1256,  428, 378,  456, 1258,  430, 438,  392, 1304,  386, 442,  440, 1252,  430, 1244,  430, 1292,  416, 392,  418, 438,  426, 1270,  416, 432,  390, 430,  494, 1180,  432, 1260,  426, 444,  408, 1268,  436, 1234,  420, 452,  402, 416,  466, 1250,  386, 440,  402, 416,  464, 412,  432, 1268,  398, 1266,  438, 1256,  388, 1286,  428, 1292,  408, 438,  410, 412,  440, 354,  482, 378,  414, 450,  426, 1294,  380, 1262,  416, 434,  402, 1292,  396, 482,  374, 1316,  380, 446,  372, 1322,  412, 1284,  400, 448,  372, 476,  376, 1294,  428, 1266,  352, 496,  380, 474,  372, 442,  400, 446,  384, 468,  400, 444,  376, 474,  398, 426,  396, 448,  378, 466,  410, 408,  428, 424,  404, 468,  402, 444,  410, 438,  384, 438,  372, 456,  394, 468,  376, 474,  382, 464,  420, 430,  376, 470,  374, 444,  382, 464,  402, 448,  400, 450,  378, 468,  378, 468,  404, 442,  376, 442,  406, 442,  406, 440,  376, 474,  352, 498,  350, 496,  376, 446,  352, 1342,  348, 498,  378, 476,  372, 478,  366, 474,  378, 444,  348, 1348,  348, 498,  376, 1324,  370, 478,  344, 1324,  346, 504,  370, 472,  374, 474,  348}};
/*Hitachi AC1*/

//defaults
int zero=0; // Send a raw data power off.
int one=8; // Send a raw data 23 degree.
int two=7; // Send a raw data 22 degree.
int three=6; // Send a raw data 21 degree.
int more=5; // Send a raw data 20 degree.

void handleRoot() {
 String s = MAIN_page; //Read HTML contents
 server.send(200, "text/html", s); //Send web page
}

void handleForm() {
 int people = server.arg("p").toInt(); 
 int temp = server.arg("t").toInt(); 
 if (people==0)
 {
  zero=temp;
 }
 if (people==1)
 {
  one=temp;
 }
 if (people==2)
 {
  two=temp;
 }
 if (people==3)
 {
  three=temp;
 }
 if (people>3)
 {
  more=temp;
 }
 String s = "Change successful <a href='/'>Go Back</a>";
 server.send(200, "text/html", s); //Send web page
}

void setup() {
  irsend.begin();
  Serial.begin(9600);
  WiFi.softAP(ssid, password);     //Connect to your WiFi router
  Serial.println("");

  
   
  // Wait for connection
//  while (WiFi.status() != WL_CONNECTED) {
//    delay(500);
//    Serial.print(".");
//  }
  while (WiFi.localIP().toString() == "0.0.0.0") {
    delay(500);
    Serial.print(".");
  }
  
  //If connection successful show IP address in serial monitor
  Serial.println("");
  Serial.print("Connected to ");
  Serial.println("WiFi");
  Serial.print("IP address: ");
  Serial.println(WiFi.softAPIP());  //IP address assigned to your ESP
 
  server.on("/", handleRoot);
  server.on("/action_page", handleForm);
  server.begin();     
}

void loop() {
  server.handleClient();
  if (Serial.available()) {
    value=Serial.read();
    i = value.toInt();
    if(i==0)
    {
      Serial.print(value);
      irsend.sendRaw(t[zero], 211, 38);  
    }
    if(i==1)
    {
      Serial.print(value);
      irsend.sendRaw(t[one], 211, 38);  
    }
    if(i==2)
    {
      Serial.print(value);
      irsend.sendRaw(t[two], 211, 38);  
    }
    if(i==3)
    {
      Serial.print(value);
      irsend.sendRaw(t[three], 211, 38);  
    }
    if(i>3)
    {
      Serial.print(value);
      irsend.sendRaw(t[more], 211, 38);
     
    }  
  }
}
